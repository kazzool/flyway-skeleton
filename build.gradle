/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */
buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath 'org.flywaydb:flyway-gradle-plugin:6.2.2'
        classpath 'mysql:mysql-connector-java:5.1.45'
    }
}

plugins {
    id "java"
    id "org.flywaydb.flyway" version "6.2.2"
}

repositories {
    mavenCentral()
}

flyway {
    url = getProperty("${profile}.flyway.url") + "?&allowPublicKeyRetrieval=true&useSSL=false"
    user = getProperty("${profile}.flyway.user")
    password = getProperty("${profile}.flyway.password")
}

def getProfile() {
    def profile = project.properties['env'] == null ? 'local' : project.properties['env']
    return profile
}